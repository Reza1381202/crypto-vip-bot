import telebot
from datetime import datetime, timedelta

TOKEN = "Ø§ÛŒÙ†Ø¬Ø§_ØªÙˆÚ©Ù†_Ø±Ø¨Ø§Øª_Ø®ÙˆØ¯Øª"
bot = telebot.TeleBot(TOKEN)

# Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø³Ø§Ø¯Ù‡ Ø§Ø´ØªØ±Ø§Ú©â€ŒÙ‡Ø§
users = {}

# Ù…Ø­Ø§Ø³Ø¨Ù‡ ØªØ§Ø±ÛŒØ® Ø¹Ø¶ÙˆÛŒØª
def add_days(d, days):
    return d + timedelta(days=days)

@bot.message_handler(commands=['start'])
def start(message):
    bot.reply_to(message,
        "Ø³Ù„Ø§Ù… ğŸ‘‹\n"
        "Ø¨Ù‡ Ø±Ø¨Ø§Øª VIP Ú©Ø±ÛŒÙ¾ØªÙˆ Ø®ÙˆØ´ Ø§ÙˆÙ…Ø¯ÛŒ\n\n"
        "Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ø§Ø´ØªØ±Ø§Ú© Ø§Ø² Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†:\n"
        "/buy\n\n"
        "Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØ¯Ù† ÙˆØ¶Ø¹ÛŒØª Ø§Ø´ØªØ±Ø§Ú©Øª:\n"
        "/vip"
    )

@bot.message_handler(commands=['buy'])
def buy(message):
    bot.reply_to(message,
        "ğŸ’³ Ù¾Ù„Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø§Ø´ØªØ±Ø§Ú©:\n\n"
        "1ï¸âƒ£ Ù…Ø§Ù‡Ø§Ù†Ù‡ â€” 100 ØªÙˆÙ…Ø§Ù†\n"
        "3ï¸âƒ£ Ø³Ù‡ Ù…Ø§Ù‡Ù‡ â€” 180 ØªÙˆÙ…Ø§Ù†\n"
        "1ï¸âƒ£2ï¸âƒ£ ÛŒÚ© Ø³Ø§Ù„Ù‡ â€” 500 ØªÙˆÙ…Ø§Ù†\n\n"
        "ÙØ¹Ù„Ø§Ù‹ Ø®Ø±ÛŒØ¯ Ø§ØªÙˆÙ…Ø§ØªÛŒÚ© Ù†ÛŒØ³Øª.\n"
        "Ø¨Ø±Ø§ÛŒ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø¨Ù‡ Ø¢ÛŒâ€ŒØ¯ÛŒ Ø§Ø¯Ù…ÛŒÙ† Ù¾ÛŒØ§Ù… Ø¨Ø¯Ù‡:\n"
        "@YourAdmin"
    )

@bot.message_handler(commands=['vip'])
def vip(message):
    user_id = message.from_user.id

    if user_id not in users:
        bot.reply_to(message, "âŒ Ø´Ù…Ø§ Ø§Ø´ØªØ±Ø§Ú© ÙØ¹Ø§Ù„ Ù†Ø¯Ø§Ø±ÛŒØ¯")
        return

    expire = users[user_id]
    now = datetime.now()

    if now > expire:
        bot.reply_to(message, "âš ï¸ Ø§Ø´ØªØ±Ø§Ú© Ø´Ù…Ø§ Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡")
        return

    bot.reply_to(message, f"âœ”ï¸ Ø§Ø´ØªØ±Ø§Ú© Ø´Ù…Ø§ ÙØ¹Ø§Ù„ Ø§Ø³Øª\nØªØ§Ø±ÛŒØ® Ù¾Ø§ÛŒØ§Ù†: {expire}")

@bot.message_handler(commands=['add'])
def add_vip(message):
    admin_id = message.from_user.id
    if admin_id != 123456789:   # Ø§ÛŒÙ†Ø¬Ø§ Ø¢ÛŒØ¯ÛŒ Ø¹Ø¯Ø¯ÛŒ Ø®ÙˆØ¯Øª Ø±Ø§ Ø¨Ø²Ù†
        bot.reply_to(message, "Ø§Ø¬Ø§Ø²Ù‡ Ù†Ø¯Ø§Ø±ÛŒ!")
        return

    try:
        parts = message.text.split()
        user = int(parts[1])
        days = int(parts[2])

        users[user] = add_days(datetime.now(), days)
        bot.reply_to(message, f"Ø§Ø´ØªØ±Ø§Ú© {days} Ø±ÙˆØ²Ù‡ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± {user} ÙØ¹Ø§Ù„ Ø´Ø¯")
    except:
        bot.reply_to(message, "ÙØ±Ù…Øª Ø¯Ø±Ø³Øª:\n/add USERID DAYS")

bot.infinity_polling()
